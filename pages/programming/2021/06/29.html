<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Armaan Amazan's webpage</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon">
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">-->
    <!-- -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


  </head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="/index.html">⠀Armaan Amazan</a>
        </div>
        <div class="d-none d-xl-block">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 hidden-lg hidden-md hidden-sm hidden-xs">
            <li class="nav-item"><a class="nav-link" href="/index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="/pages/resume.html">Résumé</a></li>
            <li class="nav-item"><a class="nav-link" href="/pages/projects.html">Projects</a></li>
            <li class="nav-item dropdown">
              <a class="dropdown-toggle nav-link  active" data-toggle="dropdown" href="">Posts
              <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/pages/music.html">Music</a></li>
                <div class="dropdown-divider"></div>
                <li><a class="dropdown-item" href="/pages/programming.html">Programming</a></li>
                <div class="dropdown-divider"></div>
                <li><a class="dropdown-item" href="/pages/GDDs.html">Game Design</a></li>
              </ul>
            </li>
            <li class="nav-item"><a class="nav-link" href="pages/about.html">Contact</a></li>
          </ul>
        </div>
        <div class="d-lg-none">
          <a class="nav-link fas fa-bars-light" data-toggle="dropdown" href="">
            <div class="container1" onclick="myFunction(this)">
             <div class="bar1"></div>
             <div class="bar2"></div>
             <div class="bar3"></div>
           </div>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/index.html">Home</a></li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item" href="/pages/resume.html">Résumé</a></li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item" href="/pages/projects.html">Projects</a></li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item" href="/pages/about.html">Contact</a></li>
            <div class="dropdown-divider"></div>

            <li class="dropdown-header">Blog Posts:</li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item" href="/pages/music.html">Music</a></li>
            <li><a class="dropdown-item" href="/pages/programming.html">Programming</a></li>

            <li><a class="dropdown-item" href="/pages/GDDs.html">Game Design</a></li>
          </ul>

          </button>
        </div>
      </div>
    </nav>

    <div class="jumbotron">
      <h4 id="-the-almost-impossible-chessboard-puzzle-intermediate-6-29-21-https-www-reddit-com-r-dailyprogrammer-comments-hrujc5-20200715_challenge_385_intermediate_the_almost-"><a href="https://www.reddit.com/r/dailyprogrammer/comments/hrujc5/20200715_challenge_385_intermediate_the_almost/">The Almost Impossible Chessboard Puzzle [intermediate] — 6/29/21</a></h4>
      <p>Prompt:</p>
      <blockquote>
      <p>&quot;First, assume that there exists a function flip that takes a series of 64 bits (0 or 1) and a number from 0 to 63. This function returns the same series of bits with the corresponding bit flipped. Now, you need to write two functions. Function prisoner1 takes two inputs: a series S of 64 bits, and a number X from 0 to 63 (inclusive). It returns a number Y from 0 to 63.
      Function prisoner2 takes one input: a series T of 64 bits. It returns a number from 0 to 63.
      Now, you must make it so that if you flip S using the output of prisoner1 and pass the result to prisoner2, you get back the number X. Put another way, the following function must return True for every possible valid input S and X.&quot;&quot;</p>
      </blockquote>
    </div>
    <div class="container">
      <div class="col-sm-12 bg-light text-justify">
        <p>I&#39;m ashamed to admit I was unable to figure out the puzzle myself and instead had to rely on the solutions provided. Regardless, let&#39;s go into how the <a href="https://www.youtube.com/watch?v=as7Gkm7Y7h4&amp;t=0s">solution</a> works and my experience adapting it for Python code.</p>
        <p>This project took a surprisingly long time. In the end, the biggest issue with my code was due to having tabbed for prisoner1&#39;s conditional statements instead of using the python-standard four spaces. While the compiler would throw errors when I made this mistake outside of the conditional statements, they weren&#39;t triggering the error for some reason. As a result, I had to test each function I&#39;d finished up until that point to see which one was incorrectly implemented.</p>
        <p>As a result of this bug, I learned a handy trick: the ctrl+f function differentiates between a tab and four spaces, so it can be useful to highlight the code&#39;s indentation to make sure everything&#39;s consistent. I definitely don&#39;t plan on making that mistake again.</p>
        <p>As the solution is provided both <a href="https://www.youtube.com/watch?v=as7Gkm7Y7h4&amp;t=0s">here</a> and in a preceding paragraph, I&#39;m only going to discuss the implementation. The primary functions to understand for this problem are prisoner1 and check_board.</p>
        <p>check_board iterates through the string of bits representing the board and only counts the &quot;heads&quot; values of specific sets of columns (identified using the modulo operator) and rows (using a counter that iterated every time the current square completed a ring of integer values), assigning a bit based on whether or not the number of &quot;heads&quot; was odd. I&#39;m sure there&#39;s a cleaner, more efficient implementation of check_board which probably involves nesting the for loops into a small loop that acts as an enumerator instead of doing individual passes and calculating column/row sums all at once instead of using individual loops for each pass.</p>
        <p>prisoner1 follows the logic of the solution by taking the encoded board state from check_board, taking the exclusive-or of the board state and the &quot;magic square&quot; target, reconverting it back to an integer (to represent prisoner 1 choosing a square to flip).</p>
        <p>Below is the aforementioned code:</p>
        <div class="border border-dark">
<pre><code><span class="hljs-comment"># the flip function takes a series s of 64 bits and</span>
<span class="hljs-comment"># a number x s.t. 0 &lt;= x &lt;= 63</span>
<span class="hljs-comment"># input: 64-bit string, integer</span>
<span class="hljs-comment"># output: 64-bit string</span>
def flip(s, flipnum):
    <span class="hljs-keyword">if</span> s[flipnum] == <span class="hljs-string">"0"</span>:
        <span class="hljs-attr">temp</span> = list(s)
        temp[flipnum] = <span class="hljs-string">"1"</span>
        <span class="hljs-attr">s</span> = <span class="hljs-string">""</span>.join(temp)
    elif s[flipnum] == <span class="hljs-string">"1"</span>:
        <span class="hljs-attr">temp</span> = list(s)
        temp[flipnum] = <span class="hljs-string">"0"</span>
        <span class="hljs-attr">s</span> = <span class="hljs-string">""</span>.join(temp)
    return s


<span class="hljs-comment"># check_board takes the current board and determines the encoded binary</span>
<span class="hljs-comment"># input: 64-bit string</span>
<span class="hljs-comment"># output: 6-bit string</span>
def check_board(s):
    <span class="hljs-attr">result</span> = <span class="hljs-string">"000000"</span>
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span> <span class="hljs-comment"># for determining number of heads per section</span>
    <span class="hljs-attr">resbit</span> = <span class="hljs-number">5</span> <span class="hljs-comment"># current bit of result being checked for</span>
    <span class="hljs-comment"># columns: designated by %8 (e.g. 8%8 == 0%8 = 0, so same column)</span>
    <span class="hljs-comment"># every other  (1,3,5,7) ((0-7))</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">1</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">3</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">5</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span> <span class="hljs-comment"># reinitialize</span>
    resbit <span class="hljs-attr">-=</span> <span class="hljs-number">1</span>


    <span class="hljs-comment"># skip two, check two (2,3,6,7)</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">2</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">3</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">6</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span>
    resbit <span class="hljs-attr">-=</span> <span class="hljs-number">1</span>


    <span class="hljs-comment"># check latter half (4,5,6,7)</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">4</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">5</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">6</span> <span class="hljs-literal">or</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span>
    resbit <span class="hljs-attr">-=</span> <span class="hljs-number">1</span>
    <span class="hljs-attr">row</span> = <span class="hljs-number">0</span>


    <span class="hljs-comment"># rows:</span>
    <span class="hljs-comment"># every other  (1,3,5,7) ((0-7))</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-attr">row</span> == <span class="hljs-number">1</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">3</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">5</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> (i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>):
            row += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span>
    resbit <span class="hljs-attr">-=</span> <span class="hljs-number">1</span>
    <span class="hljs-attr">row</span> = <span class="hljs-number">0</span>


    <span class="hljs-comment"># skip two, check two (2,3,6,7)</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-attr">row</span> == <span class="hljs-number">2</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">3</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">6</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>:
            row += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)
    <span class="hljs-attr">check</span> = <span class="hljs-number">0</span>
    resbit <span class="hljs-attr">-=</span> <span class="hljs-number">1</span>
    <span class="hljs-attr">row</span> = <span class="hljs-number">0</span>


    <span class="hljs-comment"># check latter half (4,5,6,7)</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">64</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-attr">row</span> == <span class="hljs-number">4</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">5</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">6</span> <span class="hljs-literal">or</span> <span class="hljs-attr">row</span> == <span class="hljs-number">7</span>:
            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">"1"</span>:
                check += <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">8</span> == <span class="hljs-number">7</span>:
            row += <span class="hljs-number">1</span>
    <span class="hljs-attr">checkres</span> = str(check%<span class="hljs-number">2</span>)
    <span class="hljs-attr">temp</span> = list(result)
    temp[resbit] = checkres
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>.join(temp)

    return result


<span class="hljs-comment"># "Function prisoner1 takes two inputs: a series S of 64 bits,</span>
<span class="hljs-comment"># and a number X from 0 to 63 (inclusive).</span>
<span class="hljs-comment"># It returns a number Y from 0 to 63."</span>
<span class="hljs-comment"># input: 64-bit string, integer</span>
<span class="hljs-comment"># output: integer</span>
def prisoner1(s,x):
    <span class="hljs-attr">bits</span> = '{<span class="hljs-number">0</span>:<span class="hljs-number">06</span>b}'.format(x) <span class="hljs-comment"># get binary for x, outputs bitstring</span>
    <span class="hljs-attr">board</span> = check_board(s) <span class="hljs-comment"># board = current state bitstr</span>
    <span class="hljs-attr">tempbits</span> = list(bits)
    <span class="hljs-attr">tempboard</span> = list(board)
    <span class="hljs-attr">result</span> = <span class="hljs-string">""</span>
    for i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">6</span>): <span class="hljs-comment"># lazy xor implementation</span>
        <span class="hljs-keyword">if</span> tempbits[i] == tempboard[i]:
            <span class="hljs-attr">result</span> = result + <span class="hljs-string">"0"</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-attr">result</span> = result + <span class="hljs-string">"1"</span>
    <span class="hljs-attr">result</span> = int(result,<span class="hljs-number">2</span>) <span class="hljs-comment"># convert bitstr to int</span>
    return result <span class="hljs-comment">#square to be flipped</span>


<span class="hljs-comment"># "Function prisoner2 takes one input: a series T of 64 bits.</span>
<span class="hljs-comment"># It returns a number from 0 to 63."</span>
<span class="hljs-comment"># input: 64-bit string</span>
<span class="hljs-comment"># output: integer</span>
def prisoner2(t):
    <span class="hljs-attr">bits</span> = check_board(t) <span class="hljs-comment"># bitstr to decode</span>
    <span class="hljs-attr">result</span> = int(bits,<span class="hljs-number">2</span>) <span class="hljs-comment"># convert bitstr to int</span>
    return result


<span class="hljs-comment"># Function solve provided with the prompt</span>
def solve(S, X):
    <span class="hljs-attr">Y</span> = prisoner1(S, X)
    <span class="hljs-attr">T</span> = flip(S, Y)
    return prisoner2(T) == X
</code></pre>
        </div>


      </div>
    </div>


    <style>
      .dropdown-menu {
        left: 50%;
        right: auto;
        text-align: center;
        transform: translate(-50%, 0);
        }

      footer {
        position: fixed;
        padding: 10px 10px 0px 10px;
        bottom: 0;
        width: 100%;
        height: 40px;
        opacity: .75;
        }

      .container1 {
        display: inline-block;
        cursor: pointer;
      }

      .bar1, .bar2, .bar3 {
        width: 35px;
        height: 5px;
        border-radius: 5px;
        background-color: #FFF;
        margin: 6px 0;
        transition: 0.1s;
        opacity: .95;
      }

      /* Rotate first bar */
      .change .bar1 {
        -webkit-transform: rotate(-45deg) translate(-9px, 6px) ;
        transform: rotate(-45deg) translate(-9px, 6px) ;
      }

      /* Fade out the second bar */
      .change .bar2 {
        opacity: 0;
      }

      /* Rotate last bar */
      .change .bar3 {
        -webkit-transform: rotate(45deg) translate(-8px, -8px) ;
        transform: rotate(45deg) translate(-8px, -8px) ;
      }
    </style>
    <script>
      function myFunction(x) {
        x.classList.toggle("change");
      }
    </script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>


    </body>
  </html>
